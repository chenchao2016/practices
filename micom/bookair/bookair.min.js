!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){i(2),i(3),i(5),$(function(){var t=$(".bookair-summary"),e=t.find("> .section"),i=function(){return!!document.createElement("video").canPlayType}(),n=function(t){var e=document.createElement("b");return e.innerHTML="<!--[if IE "+t+"]><i></i><![endif]-->",1===e.getElementsByTagName("i").length};e.visibleWatcher({onVisible:function(t,s){var o=t.find(".video").filter(function(){return $(this).data("autoplay")});if(e.filter(function(t){return s+1>=t}).addClass("preload"),0===s){if(n(6)||n(7)||n(8))return void t.addClass("bg05");i&&t.find(".video").data("preload",!0)}else o.each(function(t){var e=o.eq(t);e.data("preload")||(e.data("preload",!0),e[0].play())})}});var s=$(".section-fold");$("#J_display").on("click",function(){s.toggleClass("hidden")}),$(".J_slider").slider({mode:"horizontal",auto:!0,pager:!1,controls:!1,pause:3500})})},function(t,e){!function(t){function e(e){function i(){for(var e=-1,i=t(document).scrollTop(),n=0,s=d.length;s>n&&i+r.viewport.height()>d[n];n+=1)e+=1;return e}function n(){var e=i();l!==e&&(l=e,a.filter(function(e){return l>=e&&!t(this).hasClass(r.visibleClass)}).addClass(r.visibleClass).trigger("visible.visibleWatcher"),r.onVisible(a.eq(l),l))}function s(){a.each(function(){var e=t(this).attr("data-offset")?Number(t(this).attr("data-offset")):r.offset,i=e%1===0?e:e*r.viewport.height();d.push(t(this).offset().top+i)}),n(),r.onLoad()}var o,r,a=t(this),l=-1,d=[];o={viewport:t(window),visibleClass:"is-visible",offset:300,onLoad:t.noop,onVisible:t.noop},r=t.extend({},o,e),s(),r.viewport.on({"scroll.visibleWatcher":n,"resize.visibleWatcher":s})}t.fn.visibleWatcher=function(t){return e.call(this,t),this}}(jQuery)},function(t,e,i){function n(){window.tarList=[];var t=window.tarList,e=function(){var e=$(window).scrollTop();for(var i in t)if(t[i]){var n=t[i],s=n.top;e>s&&n.callback(n,e)}};$(window).on("scroll",function(){e()});var i=function(t,e){var i=t.top,n=t.end,s=t.allRoad,o=t.id,r=t.dis;if(e>i&&n>e){var a=e-i,l=-(r/2)+a*r/s,d=$(".J_movePic").eq(o).attr("data-ax");"x"===d?$(".J_movePic").eq(o).css("transform","translateX("+l+"px)"):$(".J_movePic").eq(o).css("transform","translateY("+l+"px)")}};$(".J_movePic").each(function(e){var n=parseInt($(this).offset().top)-parseInt($(window).height()),s=$(this).offset().top+$(this).height(),o=$(this).height()+$(window).height(),r=$(this).attr("data-move");r||(r=-100);var a={top:n,end:s,allRoad:o,id:e,dis:r,callback:i};t.push(a)}),e()}i(4),window.tarList=[];var s=window.tarList,o=$(window).scrollTop(),r=function(){var t=$(window).scrollTop(),e=o>t?!0:!1;o=t;for(var i in s)if(s.hasOwnProperty(i)){var n=s[i],r=n.top;t>r&&e?n.callback(n,t):n.reverse&&n.reverse(n,t)}};$(window).on("scroll",function(t){r(t)});var a=function(){return!!document.createElement("video").canPlayType}();window.supportsVideo=a,MI.getProductPrice({priceWrapper:".J_priceWrapper",originalPrice:".J_originalPrice",currentPrice:".J_currentPrice"}),$(function(){var t=$("#J_modalVideo");$(".J_videoBtn").click(function(){t.find(".modal-hd .title").text($(this).attr("data-video-title")).end().find(".modal-bd").html('<iframe width="880" height="536" src="//hd.mi.com/f/zt/hd/misc/youku.html?vid='+$(this).attr("data-video")+'" frameborder="0" allowfullscreen></iframe>'),t.modal({show:!0,backdrop:"static"}),t.on("hide",function(){t.find(".modal-hd .title").empty(),t.find(".modal-bd").empty()})});var e=function(){var t=$(".J_headNav").offset().top+$(".J_headNav").height(),e=t;s.push({top:e,callback:function(){$(".J_fixNarBar").addClass("nav-bar-fixed")},reverse:function(){$(".J_fixNarBar").removeClass("nav-bar-fixed")}})};e(),$(".J_next").on({mouseenter:function(){a&&($(this).find(".video").data("preload")||$(this).find(".video").data("preload",!0),$(this).find(".video")[0].play())}}),n()})},function(t,e){MI.getProductPrice=function(t){var e={priceWrapper:".J_productPriceWrapper",originalPrice:".J_oPrive",currentPrice:".J_cPrice"},i=$.extend(e,t),n=$(i.priceWrapper),s="http://cn.orderapi.mi.com/stock/goods",o=[];n.each(function(){o.push($(this).attr("data-gid"))}),o.length&&$.ajax({url:s,dataType:"jsonp",jsonp:"jsonpcallback",data:{gids:o.join(",")},timeout:1e4,error:function(){},success:function(t){if(t&&1===t.code){var e;n.each(function(){if(e=$(this).attr("data-gid"),t.data[e]){var n=parseFloat(t.data[e].price),s=parseFloat(t.data[e].market_price);n===s&&s>0?($(this).find(i.originalPrice).hide(),$(this).find(i.currentPrice).find(".num").text(n),$(this).removeClass("hide")):s>n&&($(this).find(i.originalPrice).find(".num").text(s),$(this).find(i.currentPrice).find(".num").text(n),$(this).removeClass("hide"))}})}}})}},function(t,e){!function(t){var e={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"ui-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"下一张",prevText:"上一张",nextSelector:null,prevSelector:null,autoControls:!1,startText:"开始",stopText:"停止",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:t.noop,onSlideBefore:t.noop,onSlideAfter:t.noop,onSlideNext:t.noop,onSlidePrev:t.noop,onSliderResize:t.noop};t.fn.slider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).slider(s)}),this;var o={},r=this;e.el=this;var a=t(window).width(),l=t(window).height(),d=function(){o.settings=t.extend({},n,s),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c()},c=function(){r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="ui-viewport"></div></div>'),o.viewport=r.parent(),o.loader=t('<div class="ui-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");f();o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:h()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",v()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="ui-controls" />'),o.settings.captions&&E(),o.active.last=o.settings.startSlide==m()-1,o.settings.video&&r.fitVids();var e=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&T(),o.settings.controls&&C(),o.settings.auto&&o.settings.autoControls&&P(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),g(e,u)},g=function(e,i){var n=e.find("img, iframe").length;if(0==n)return void i();var s=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++s==n&&i()}).each(function(){this.complete&&t(this).load()})})},u=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var e="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone().addClass("ui-clone"),n=o.children.slice(-e).clone().addClass("ui-clone");r.append(i).prepend(n)}o.loader.remove(),S(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(p()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",O),o.settings.auto&&o.settings.autoStart&&(m()>1||o.settings.autoSlideForOnePage)&&_(),o.settings.ticker&&D(),o.settings.pager&&I(o.settings.startSlide),o.settings.controls&&L(),o.settings.touchEnabled&&!o.settings.ticker&&A()},p=function(){var e=0,n=t();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1==o.settings.moveSlides?o.active.index:o.active.index*x();for(n=o.children.eq(s),i=1;i<=o.settings.maxSlides-1;i++)n=n.add(s+i>=o.children.length?o.children.eq(i-1):o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},h=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},v=function(){var t=o.settings.slideWidth,e=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"==o.settings.mode?t=e:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(e>o.maxThreshold||e<o.minThreshold&&(t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),t},f=function(){var t=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)t=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)t=o.settings.maxSlides;else{var e=o.children.first().width()+o.settings.slideMargin;t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)}else"vertical"==o.settings.mode&&(t=o.settings.minSlides);return t},m=function(){var t=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/x());else for(var e=0,i=0;e<o.children.length;)++t,e=i+f(),i+=o.settings.moveSlides<=f()?o.settings.moveSlides:f();else t=Math.ceil(o.children.length/f());return t},x=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=f()?o.settings.moveSlides:f()},S=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var t=o.children.last(),e=t.position();w(-(e.left-(o.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,e=o.children.eq(i).position();w(-e.top,"reset",0)}}else{var e=o.children.eq(o.active.index*x()).position();o.active.index==m()-1&&(o.active.last=!0),void 0!=e&&("horizontal"==o.settings.mode?w(-e.left,"reset",0):"vertical"==o.settings.mode&&w(-e.top,"reset",0))}},w=function(t,e,i,n){if(o.usingCSS){var s="vertical"==o.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),q()})):"reset"==e?r.css(o.animProp,s):"ticker"==e&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(n.resetValue,"reset",0),J()}))}else{var a={};a[o.animProp]=t,"slide"==e?r.animate(a,i,o.settings.easing,function(){q()}):"reset"==e?r.css(o.animProp,t):"ticker"==e&&r.animate(a,speed,"linear",function(){w(n.resetValue,"reset",0),J()})}},b=function(){for(var e="",i=m(),n=0;i>n;n++){var s="";o.settings.buildPager&&t.isFunction(o.settings.buildPager)?(s=o.settings.buildPager(n),o.pagerEl.addClass("ui-custom-pager")):(s=n+1,o.pagerEl.addClass("ui-default-pager")),e+='<div class="ui-pager-item"><a href="" data-slide-index="'+n+'" class="ui-pager-link">'+s+"</a></div>"}o.pagerEl.html(e)},T=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="ui-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("ui-has-pager").append(o.pagerEl),b()),o.pagerEl.on("click","a",M)},C=function(){o.controls.next=t('<a class="ui-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="ui-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",y),o.controls.prev.bind("click",$),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="ui-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("ui-has-controls-direction").append(o.controls.directionEl))},P=function(){o.controls.start=t('<div class="ui-controls-auto-item"><a class="ui-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="ui-controls-auto-item"><a class="ui-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="ui-controls-auto" />'),o.controls.autoEl.on("click",".ui-start",k),o.controls.autoEl.on("click",".ui-stop",z),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("ui-has-controls-auto").append(o.controls.autoEl),W(o.settings.autoStart?"stop":"start")},E=function(){o.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&t(this).append('<div class="ui-caption"><span>'+i+"</span></div>")})},y=function(t){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),t.preventDefault()},$=function(t){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),t.preventDefault()},k=function(t){r.startAuto(),t.preventDefault()},z=function(t){r.stopAuto(),t.preventDefault()},M=function(e){o.settings.auto&&r.stopAuto();var i=t(e.currentTarget);if(void 0!==i.attr("data-slide-index")){var n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&r.goToSlide(n),e.preventDefault()}},I=function(e){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")}))},q=function(){if(o.settings.infiniteLoop){var t="";0==o.active.index?t=o.children.eq(0).position():o.active.index==m()-1&&o.carousel?t=o.children.eq((m()-1)*x()).position():o.active.index==o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"==o.settings.mode?w(-t.left,"reset",0):"vertical"==o.settings.mode&&w(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},W=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.ui-"+t+")").addClass("active"))},L=function(){1==m()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==m()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},_=function(){if(o.settings.autoDelay>0){setTimeout(r.startAuto,o.settings.autoDelay)}else r.startAuto();o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},D=function(){var e=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("ui-clone"));else{r.prepend(o.children.clone().addClass("ui-clone"));var i=o.children.first().position();e="horizontal"==o.settings.mode?-i.left:-i.top}w(e,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var e=0;o.children.each(function(i){e+="horizontal"==o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=o.settings.speed/e,n="horizontal"==o.settings.mode?"left":"top",s=i*(e-Math.abs(parseInt(r.css(n))));J(s)}),J()},J=function(t){speed=t?t:o.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?e=r.find(".ui-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-e.left:-e.top,s="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:s};w(n,"ticker",speed,a)},A=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",H)},H=function(t){if(o.working)t.preventDefault();else{o.touch.originalPos=r.position();var e=t.originalEvent;o.touch.start.x=e.changedTouches[0].pageX,o.touch.start.y=e.changedTouches[0].pageY,o.viewport.bind("touchmove",N),o.viewport.bind("touchend",F)}},N=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(e.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?t.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var s=0;if("horizontal"==o.settings.mode){var r=e.changedTouches[0].pageX-o.touch.start.x;s=o.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-o.touch.start.y;s=o.touch.originalPos.top+r}w(s,"reset",0)}},F=function(t){o.viewport.unbind("touchmove",N);var e=t.originalEvent,i=0;if(o.touch.end.x=e.changedTouches[0].pageX,o.touch.end.y=e.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&0>n)?w(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(0>n?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):w(i,"reset",200)}o.viewport.unbind("touchend",F)},O=function(e){if(o.initialized){var i=t(window).width(),n=t(window).height();(a!=i||l!=n)&&(a=i,l=n,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}};return r.goToSlide=function(e,i){if(!o.working&&o.active.index!=e)if(o.working=!0,o.oldIndex=o.active.index,o.active.index=0>e?m()-1:e>=m()?0:e,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=m()-1,o.settings.pager&&I(o.active.index),o.settings.controls&&L(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),q()});else{o.settings.adaptiveHeight&&o.viewport.height()!=p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed);var n=0,s={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);s=a.position(),n=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;s=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-x():(m()-1)*x()-(o.children.length-o.settings.maxSlides),a=r.children(".ui-clone").eq(d);s=a.position()}else if("next"==i&&0==o.active.index)s=r.find("> .ui-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(e>=0){var c=e*x();s=o.children.eq(c).position()}if("undefined"!=typeof s){var g="horizontal"==o.settings.mode?-(s.left-n):-s.top;w(g,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var t=parseInt(o.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=t&&W("stop"))},r.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=t&&W("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".ui-clone")).width(v()),o.viewport.css("height",p()),o.settings.ticker||S(),o.active.last&&(o.active.index=m()-1),o.active.index>=m()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(b(),I(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".ui-clone",this).remove(),o.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),t(".ui-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",O))},r.reloadSlider=function(t){void 0!=t&&(s=t),r.destroySlider(),d()},d(),this}}(jQuery)}]);